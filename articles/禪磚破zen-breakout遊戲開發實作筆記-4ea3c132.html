<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="禪磚破（Zen Breakout）遊戲開發實作筆記">
  <title>禪磚破（Zen Breakout）遊戲開發實作筆記 | 知識庫</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="reading-progress" id="readingProgress"></div>
  <header>
    <div class="container">
      <a href="../" class="logo">知識庫</a>
      <nav>
        <a href="../#buddhism">佛學</a>
        <a href="../#thinking">思維方法</a>
        <a href="../#ai">AI技術</a>
        <a href="../#claude">Claude Code</a>
        <a href="../#game">遊戲</a>
      </nav>
      <button class="theme-toggle" onclick="toggleTheme()" aria-label="切換深色模式">
        <span class="theme-icon">&#9680;</span>
      </button>
    </div>
  </header>

  <main class="container">
    <article>
      <div class="article-header">
        <span class="category-badge category-buddhism">佛學</span>
        <h1>禪磚破（Zen Breakout）遊戲開發實作筆記</h1>
        <div class="article-meta">
          <span class="date">2026-02-17</span>
          <span class="reading-time">1 分鐘閱讀</span>
          <div class="tags"><span class="tag">遊戲開發</span><span class="tag">HTML5</span><span class="tag">Canvas</span><span class="tag">碰撞偵測</span><span class="tag">Breakout</span><span class="tag">禪意</span><span class="tag">JavaScript</span><span class="tag">遊戲設計</span></div>
        </div>
      </div>

      <details class="article-toc" open>
        <summary>目錄</summary>
        <ol>
          <li><a href="#概述">概述</a></li><li><a href="#技術要點">技術要點</a></li>  <li><a href="#碰撞偵測">碰撞偵測</a></li>  <li><a href="#遊戲循環">遊戲循環</a></li>  <li><a href="#物件池粒子系統">物件池粒子系統</a></li>  <li><a href="#道具系統設計">道具系統設計</a></li>  <li><a href="#多關卡設計">多關卡設計</a></li>  <li><a href="#輸入支援">輸入支援</a></li>  <li><a href="#響應式設計">響應式設計</a></li><li><a href="#品質檢查清單">品質檢查清單</a></li>
        </ol>
      </details>

      <div class="article-content">
        <h1>禪磚破（Zen Breakout）遊戲開發實作筆記</h1>
<h2 id="概述">概述</h2>
<p>在禪境遊廊（Zen Game Portal）中新增一款經典 Breakout 打磚塊遊戲，融合禪意美學主題。</p>
<h2 id="技術要點">技術要點</h2>
<h3 id="碰撞偵測">碰撞偵測</h3>
<ul>
<li>AABB（Axis-Aligned Bounding Box）碰撞偵測</li>
<li>找最近點計算距離，判斷碰撞方向</li>
<li>穿透修正：根據 overlapX vs overlapY 決定反彈軸</li>
<li>球拍碰撞位置影響反彈角度（0~1 映射到 -150~-27 度）</li>
</ul>
<h3 id="遊戲循環">遊戲循環</h3>
<ul>
<li>requestAnimationFrame + 固定時間步長（1000/60 ms）</li>
<li>accumulator 模式防止 delta 過大（切頁回來）</li>
<li>狀態機控制：MENU/PLAYING/PAUSED/GAMEOVER/LEVELCLEAR</li>
</ul>
<h3 id="物件池粒子系統">物件池粒子系統</h3>
<ul>
<li>預分配 80 個粒子物件</li>
<li>swap-and-pop 回收策略（O(1) 移除）</li>
<li>兩種粒子類型：circle（圓形）和 petal（花瓣橢圓）</li>
<li>重力模擬（vy += 0.05）</li>
</ul>
<h3 id="道具系統設計">道具系統設計</h3>
<ul>
<li>5 種道具：多球分裂、球拍加寬、減速球、穿透球、額外生命</li>
<li>18% 掉落機率</li>
<li>計時器控制效果持續時間</li>
<li>穿透模式球不反彈（連續擊破多個磚塊）</li>
</ul>
<h3 id="多關卡設計">多關卡設計</h3>
<ul>
<li>5 關對應五毒：貪嗔癡慢疑</li>
<li>每關不同磚塊排列（金字塔、棋盤、橫條、菱形、完整牆）</li>
<li>堅固磚需要 2 次擊打</li>
<li>球速隨關卡遞增</li>
</ul>
<h3 id="輸入支援">輸入支援</h3>
<ul>
<li>鍵盤：方向鍵/WASD 移動、空白鍵發射、Esc 暫停</li>
<li>滑鼠：球拍追蹤滑鼠位置</li>
<li>觸控：Canvas touchmove + 虛擬按鈕（左/發射/右）</li>
</ul>
<h3 id="響應式設計">響應式設計</h3>
<ul>
<li>邏輯尺寸固定 480x640</li>
<li>CSS 縮放適應不同螢幕</li>
<li>觸控裝置自動顯示虛擬按鈕</li>
</ul>
<h2 id="品質檢查清單">品質檢查清單</h2>
<ul>
<li>[x] requestAnimationFrame</li>
<li>[x] AABB 碰撞偵測</li>
<li>[x] 完整狀態機</li>
<li>[x] 鍵盤 + 滑鼠 + 觸控</li>
<li>[x] 響應式設計</li>
<li>[x] Web Audio API 音效</li>
<li>[x] localStorage 高分</li>
<li>[x] 物件池粒子</li>
<li>[x] IIFE + use strict</li>
</ul>

      </div>

      <nav class="article-nav"><a href="法華經觀世音菩薩普門品研究三十三應身與大悲救度的圓教行門-a203cee3.html" class="nav-prev"><span class="nav-label">&larr; 上一篇</span><span class="nav-title">法華經觀世音菩薩普門品研究：三十三應身與大悲救度的圓教行門</span></a><a href="禪意遊戲品質優化實戰記錄2026-02-18-六根淨化-0fb8fbd5.html" class="nav-next"><span class="nav-label">下一篇 &rarr;</span><span class="nav-title">禪意遊戲品質優化實戰記錄（2026-02-18）— 六根淨化、Space Invaders、禪音節奏</span></a></nav>

      <a href="../" class="back-link">&larr; 返回首頁</a>
    </article>
  </main>

  <button class="back-to-top" id="backToTop" onclick="window.scrollTo({top:0,behavior:'smooth'})" aria-label="回到頂部">&uarr;</button>

  <footer>
    <div class="container">
      <p>Powered by RAG Knowledge Base</p>
    </div>
  </footer>
  <script>
    function toggleTheme(){const b=document.body;b.classList.toggle('dark');localStorage.setItem('theme',b.classList.contains('dark')?'dark':'light')}
    if(localStorage.getItem('theme')==='dark')document.body.classList.add('dark');
    window.addEventListener('scroll',function(){
      const prog=document.getElementById('readingProgress');
      const btn=document.getElementById('backToTop');
      const h=document.documentElement.scrollHeight-window.innerHeight;
      const pct=h>0?(window.scrollY/h)*100:0;
      prog.style.width=pct+'%';
      btn.classList.toggle('visible',window.scrollY>300);
    });
  </script>
</body>
</html>
