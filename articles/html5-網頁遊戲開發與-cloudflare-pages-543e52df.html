<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="HTML5 網頁遊戲開發與 Cloudflare Pages 部署指南（2026）">
  <title>HTML5 網頁遊戲開發與 Cloudflare Pages 部署指南（2026） | 知識庫</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="reading-progress" id="readingProgress"></div>
  <header>
    <div class="container">
      <a href="../" class="logo">知識庫</a>
      <nav>
        <a href="../#buddhism">佛學</a>
        <a href="../#thinking">思維方法</a>
        <a href="../#ai">AI技術</a>
        <a href="../#claude">Claude Code</a>
        <a href="../#game">遊戲</a>
      </nav>
      <button class="theme-toggle" onclick="toggleTheme()" aria-label="切換深色模式">
        <span class="theme-icon">&#9680;</span>
      </button>
    </div>
  </header>

  <main class="container">
    <article>
      <div class="article-header">
        <span class="category-badge category-game">遊戲開發</span>
        <h1>HTML5 網頁遊戲開發與 Cloudflare Pages 部署指南（2026）</h1>
        <div class="article-meta">
          <span class="date">2026-02-14</span>
          <span class="reading-time">3 分鐘閱讀</span>
          <div class="tags"><span class="tag">遊戲開發</span><span class="tag">HTML5</span><span class="tag">Cloudflare Pages</span><span class="tag">效能優化</span><span class="tag">Phaser</span><span class="tag">PixiJS</span><span class="tag">Canvas</span><span class="tag">部署</span></div>
        </div>
      </div>

      <details class="article-toc" open>
        <summary>目錄</summary>
        <ol>
          <li><a href="#一-遊戲引擎選型">一、遊戲引擎選型</a></li>  <li><a href="#phaser-推薦-2d-遊戲">Phaser（推薦 2D 遊戲）</a></li>  <li><a href="#pixijs-高效能渲染">PixiJS（高效能渲染）</a></li>  <li><a href="#選擇建議">選擇建議</a></li><li><a href="#二-canvas-效能優化技術">二、Canvas 效能優化技術</a></li>  <li><a href="#1-預渲染到離屏-canvas">1. 預渲染到離屏 Canvas</a></li>  <li><a href="#2-批次繪製呼叫">2. 批次繪製呼叫</a></li>  <li><a href="#3-最小化狀態變更">3. 最小化狀態變更</a></li>  <li><a href="#4-其他優化技巧">4. 其他優化技巧</a></li><li><a href="#三-phaser-專案最佳實踐">三、Phaser 專案最佳實踐</a></li>  <li><a href="#專案結構">專案結構</a></li>  <li><a href="#資源管理">資源管理</a></li>  <li><a href="#效能優化">效能優化</a></li>  <li><a href="#行動裝置適配">行動裝置適配</a></li><li><a href="#四-cloudflare-pages-部署">四、Cloudflare Pages 部署</a></li>  <li><a href="#部署方式">部署方式</a></li>  <li><a href="#純靜態網站設定">純靜態網站設定</a></li>  <li><a href="#部署流程">部署流程</a></li>  <li><a href="#注意事項">注意事項</a></li><li><a href="#五-pwa-支援-可選">五、PWA 支援（可選）</a></li><li><a href="#參考來源">參考來源</a></li>
        </ol>
      </details>

      <div class="article-content">
        <h1>HTML5 網頁遊戲開發與 Cloudflare Pages 部署指南</h1>
<p>本指南整合 2026 年 HTML5 遊戲開發最佳實踐，涵蓋引擎選型、效能優化與 Cloudflare Pages 部署策略。</p>
<hr>
<h2 id="一-遊戲引擎選型">一、遊戲引擎選型</h2>
<h3 id="phaser-推薦-2d-遊戲">Phaser（推薦 2D 遊戲）</h3>
<ul>
<li><strong>定位</strong>：完整的 2D HTML5 遊戲框架，內建物理引擎（Arcade、Matter.js）、場景管理、輸入處理、音效、動畫</li>
<li><strong>Phaser 4 新特性</strong>：</li>
</ul>
<p>  - 全新 TypeScript 重寫
  - 模組化設計，bundle 可減少 40%
  - 支援 WebGPU（未來標準）</p>
<ul>
<li><strong>適用場景</strong>：快速開發、初學者、標準 2D 遊戲</li>
</ul>
<h3 id="pixijs-高效能渲染">PixiJS（高效能渲染）</h3>
<ul>
<li><strong>定位</strong>：輕量級高效能 2D 渲染引擎</li>
<li><strong>優勢</strong>：</li>
</ul>
<p>  - Bundle 僅 450KB（Phaser 1.2MB）
  - 純渲染效能快 2 倍
  - 可渲染數千精靈維持 60 FPS</p>
<ul>
<li><strong>適用場景</strong>：效能關鍵應用、自訂渲染需求、粒子效果、捲軸世界</li>
</ul>
<h3 id="選擇建議">選擇建議</h3>
<table>
<tr><th>需求</th><th>推薦引擎</th></tr>
<tr><td>標準 2D 遊戲開發</td><td>Phaser</td></tr>
<tr><td>最大效能控制</td><td>PixiJS</td></tr>
<tr><td>快速原型開發</td><td>Phaser</td></tr>
<tr><td>非遊戲互動應用</td><td>PixiJS</td></tr>
</table>
<hr>
<h2 id="二-canvas-效能優化技術">二、Canvas 效能優化技術</h2>
<h3 id="1-預渲染到離屏-canvas">1. 預渲染到離屏 Canvas</h3>
<pre><code class="language-javascript">var offscreen = document.createElement(&#x27;canvas&#x27;);
offscreen.width = 64;
offscreen.height = 64;
var ctx = offscreen.getContext(&#x27;2d&#x27;);
drawComplexSprite(ctx);

// 主迴圈中直接繪製預渲染結果
function render() {
  mainCtx.drawImage(offscreen, x, y);
  requestAnimationFrame(render);
}</code></pre>
<h3 id="2-批次繪製呼叫">2. 批次繪製呼叫</h3>
<pre><code class="language-javascript">// 好：一次繪製所有線條
ctx.beginPath();
for (var i = 0; i &lt; points.length - 1; i++) {
  ctx.moveTo(points[i].x, points[i].y);
  ctx.lineTo(points[i+1].x, points[i+1].y);
}
ctx.stroke();</code></pre>
<h3 id="3-最小化狀態變更">3. 最小化狀態變更</h3>
<p>按顏色分組繪製，避免頻繁切換 <code>fillStyle</code>：</p>
<pre><code class="language-javascript">ctx.fillStyle = COLOR1;
for (var i = 0; i &lt; items1.length; i++) {
  ctx.fillRect(items1[i].x, items1[i].y, w, h);
}
ctx.fillStyle = COLOR2;
for (var i = 0; i &lt; items2.length; i++) {
  ctx.fillRect(items2[i].x, items2[i].y, w, h);
}</code></pre>
<h3 id="4-其他優化技巧">4. 其他優化技巧</h3>
<ul>
<li><strong>使用整數座標</strong>：避免子像素渲染的抗鋸齒開銷</li>
</ul>
<p>  ``<code>javascript
  var rounded = (0.5 + floatNum) | 0;
  </code>``</p>
<ul>
<li><strong>分層 Canvas</strong>：背景層更新頻率低，前景層高更新率</li>
<li><strong>避免 shadowBlur</strong>：陰影效果計算成本高</li>
<li><strong>使用 requestAnimationFrame</strong>：自動暫停不可見頁面</li>
<li><strong>清除用 clearRect</strong>：比 <code>canvas.width = canvas.width</code> 更穩定</li>
</ul>
<hr>
<h2 id="三-phaser-專案最佳實踐">三、Phaser 專案最佳實踐</h2>
<h3 id="專案結構">專案結構</h3>
<pre><code class="language-plaintext">project/
├── assets/          # 圖片、音效、Spritesheet
├── src/
│   ├── scenes/      # MainMenu.js, GameScene.js
│   ├── utils/       # 碰撞處理、工具函數
│   └── components/  # 可重用遊戲物件
├── index.html
└── main.js</code></pre>
<h3 id="資源管理">資源管理</h3>
<ul>
<li><strong>壓縮圖片</strong>：使用 TinyPNG 等工具</li>
<li><strong>使用 Spritesheet</strong>：減少繪製呼叫</li>
<li><strong>預載入資源</strong>：在 Boot Scene 中完成</li>
<li><strong>命名規範</strong>：<code>player_idle.png</code>、<code>enemy_attack.png</code></li>
</ul>
<h3 id="效能優化">效能優化</h3>
<ul>
<li><strong>物件池（Object Pooling）</strong>：對頻繁建立/銷毀的實體（子彈、粒子）使用 Phaser 內建 <code>Group</code> 和 <code>Pool</code></li>
<li><strong>停用未使用的物理體</strong>：減少計算</li>
<li><strong>Bitmap Text</strong>：HUD 和分數顯示用 bitmap 字型</li>
</ul>
<h3 id="行動裝置適配">行動裝置適配</h3>
<pre><code class="language-javascript">scale: {
  mode: Phaser.Scale.FIT,
  autoCenter: Phaser.Scale.CENTER_BOTH
}</code></pre>
<ul>
<li>使用相對尺寸與錨點</li>
<li>啟用觸控輸入（tap、swipe、drag）</li>
<li>控制元素針對觸控優化</li>
</ul>
<hr>
<h2 id="四-cloudflare-pages-部署">四、Cloudflare Pages 部署</h2>
<h3 id="部署方式">部署方式</h3>
<ol>
<li><strong>Git 整合（推薦）</strong>：連接 GitHub/GitLab，<code>git push</code> 自動部署</li>
<li><strong>直接上傳</strong>：Dashboard 上傳 zip 檔案</li>
<li><strong>Wrangler CLI</strong>：命令列工具部署</li>
</ol>
<h3 id="純靜態網站設定">純靜態網站設定</h3>
<table>
<tr><th>設定項</th><th>值</th></tr>
<tr><td>Framework preset</td><td>None</td></tr>
<tr><td>Production branch</td><td>main</td></tr>
<tr><td>Build command</td><td><code>exit 0</code></td></tr>
<tr><td>Build output</td><td>專案根目錄</td></tr>
</table>
<h3 id="部署流程">部署流程</h3>
<ol>
<li>在 Cloudflare Dashboard 選擇 Workers &amp; Pages</li>
<li>選擇「Import an existing Git repository」</li>
<li>填入建置設定（純靜態用 <code>exit 0</code>）</li>
<li>部署完成後取得 <code>*.pages.dev</code> 網域</li>
</ol>
<h3 id="注意事項">注意事項</h3>
<ul>
<li><strong>必須有 index.html</strong>：根目錄必須有 <code>index.html</code>，否則 404</li>
<li><strong>自訂網域 SSL</strong>：DNS 須由 Cloudflare 管理</li>
<li><strong>重定向與 Headers</strong>：使用 <code>_headers</code>、<code>_redirects</code> 檔案或 Workers</li>
<li><strong>預覽部署</strong>：Pull Request 自動產生預覽版本</li>
</ul>
<hr>
<h2 id="五-pwa-支援-可選">五、PWA 支援（可選）</h2>
<p>將 HTML5 遊戲打包為 PWA 可提供：</p>
<ul>
<li>離線遊玩能力</li>
<li>安裝到主畫面</li>
<li>推播通知</li>
</ul>
<p>需要：</p>
<ul>
<li><code>manifest.json</code></li>
<li>Service Worker（快取策略）</li>
<li>HTTPS（Cloudflare Pages 自動提供）</li>
</ul>
<hr>
<h2 id="參考來源">參考來源</h2>
<ol>
<li><a href="https://superpowers-html5.com/essential-tools-for-html5-game-developers-in-2026/">Essential Tools for HTML5 Game Developers in 2026</a></li>
<li><a href="https://web.dev/articles/canvas-performance">Improving HTML5 Canvas Performance - web.dev</a></li>
<li><a href="https://genieee.com/phaser-game-development-best-practices/">Phaser Game Development Best Practices</a></li>
<li><a href="https://developers.cloudflare.com/pages/framework-guides/deploy-anything/">Cloudflare Pages - Static HTML Deployment</a></li>
<li><a href="https://generalistprogrammer.com/comparisons/phaser-vs-pixijs">Phaser vs PixiJS Comparison</a></li>
<li><a href="https://blog.logrocket.com/best-javascript-html5-game-engines-2025/">Best JavaScript and HTML5 Game Engines 2025</a></li>
</ol>
<hr>
<p><em>研究日期：2026-02-14</em></p>

      </div>

      <nav class="article-nav"><a href="正念記憶遊戲開發成果2026-02-15-a2d65ac6.html" class="nav-prev"><span class="nav-label">&larr; 上一篇</span><span class="nav-title">正念記憶遊戲開發成果（2026-02-15）</span></a><a href="六根淨化遊戲優化報告-2026-02-14-1404aa44.html" class="nav-next"><span class="nav-label">下一篇 &rarr;</span><span class="nav-title">六根淨化遊戲優化報告 (2026-02-14)</span></a></nav>

      <a href="../" class="back-link">&larr; 返回首頁</a>
    </article>
  </main>

  <button class="back-to-top" id="backToTop" onclick="window.scrollTo({top:0,behavior:'smooth'})" aria-label="回到頂部">&uarr;</button>

  <footer>
    <div class="container">
      <p>Powered by RAG Knowledge Base</p>
    </div>
  </footer>
  <script>
    function toggleTheme(){const b=document.body;b.classList.toggle('dark');localStorage.setItem('theme',b.classList.contains('dark')?'dark':'light')}
    if(localStorage.getItem('theme')==='dark')document.body.classList.add('dark');
    window.addEventListener('scroll',function(){
      const prog=document.getElementById('readingProgress');
      const btn=document.getElementById('backToTop');
      const h=document.documentElement.scrollHeight-window.innerHeight;
      const pct=h>0?(window.scrollY/h)*100:0;
      prog.style.width=pct+'%';
      btn.classList.toggle('visible',window.scrollY>300);
    });
  </script>
</body>
</html>
